{% extends 'layout_depan/base.html' %}

{% block content %}
<section class="data pt-5 pb-5">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <table id="dataTable" class="table table-striped table-hover table-bordered">
          <thead class="font-prototype">
            <tr>
              <!-- <th style="width: 5%">NO.</th> -->
              <th style="width: 7%">COVER</th>
              <th>JUDUL BUKU</th>
              <th style="width: 15%">KATEGORI</th>
              <th style="width: 10%">POG.KEAHLIAN</th>
              <th style="width: 7%">STOK</th>
            </tr>
          </thead>
          <tbody>
            {% for buku in books %}
            {% if buku %}
            <tr>
              <!-- <td class="text-center">{{ forloop.counter }}.</td> -->
              {% if buku.cover %}
              <td class="text-center"><a href="#" data-toggle="modal" data-target="#buku-{{ buku.id }}"><img
                    src="/media/{{ buku.cover }}" alt="buku" class="cover"></a></td>
              {% else %}
              <td><span class="text-muted">Tida ada cover</span></td>
              {% endif %}
              <td><a href="#" data-toggle="modal" data-target="#buku-{{ buku.id }}">{{ buku.judul }}</a></td>
              <td>{{ buku.kategori }}</td>
              <td>{{ buku.kategori_khusus }}</td>
              <td>{{ buku.stok }}</td>
            </tr>
            {% endif %}
            {% endfor %}
          </tbody>
        </table>

        {% for buku in books %}
        {% if buku %}
        <div class="modal fade" id="buku-{{ buku.id }}">
          <div class="modal-dialog modal-lg">
            <div class="modal-content">

              <!-- Modal Header -->
              <div class="modal-header">
                <h4 class="modal-title font-prototype">{{ buku.judul }}</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>

              <!-- Modal body -->
              <div class="modal-body">
                <div class="row">
                  <div class="col-md-4">
                    {% if buku.cover %}
                    <img src="/media/{{ buku.cover }}" alt="buku" class="cover-preview">
                    {% else %}
                    <span class="text-muted">Tida ada cover</span>
                    {% endif %}
                  </div>
                  <div class="col-md-8">
                    <div class="table-responsive">
                      <table class="table table-hover table-striped">
                        <thead></thead>
                        <tbody>
                          <tr>
                            <th>Lokasi rak</th>
                            <td>:</td>
                            <td>{{ buku.lokasi }}</td>
                          </tr>
                          <tr>
                            <th style="width: 42%">No.ISBN</th>
                            <td style="width: 2%">:</td>
                            <td>{{ buku.isbn }}</td>
                          </tr>
                          <tr>
                            <th>Kode Buku</th>
                            <td>:</td>
                            <td>{{ buku.kode_buku }}</td>
                          </tr>
                          <tr>
                            <th>Penulis</th>
                            <td>:</td>
                            <td>{{ buku.penulis }}</td>
                          </tr>
                          <tr>
                            <th>Penerbit</th>
                            <td>:</td>
                            <td>{{ buku.penerbit }}</td>
                          </tr>
                          <tr>
                            <th>Kategori</th>
                            <td>:</td>
                            <td>{{ buku.kategori }}</td>
                          </tr>
                          <tr>
                            <th>Kategori Khusus/Jurusan</th>
                            <td>:</td>
                            <td>{{ buku.kategori_khusus }}</td>
                          </tr>
                          <tr>
                            <th>Stok</th>
                            <td>:</td>
                            <td>{{ buku.stok }}</td>
                          </tr>
                          <tr>
                            <th>Keterangan</th>
                            <td>:</td>
                            <td>{{ buku.keterangan }}</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Modal footer -->
              <div class="modal-footer">
                <button type="button" class="btn btn-outline-info" data-dismiss="modal"><i class="fas fa-check"></i>
                  Selesai</button>
              </div>
            </div>
          </div>
        </div> <!-- ./modal -->
        {% endif %}
        {% endfor %}
      </div>
    </div>
  </div>
</section>
{% endblock %}